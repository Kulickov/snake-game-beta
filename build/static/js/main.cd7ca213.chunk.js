(this["webpackJsonpsnake-game"]=this["webpackJsonpsnake-game"]||[]).push([[0],{24:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),c=n(6),r=n.n(c),s=(n(24),n(13)),i=n(14),u=n(19),d=n(17),O=n(4),l=n(37),j=Object(l.a)("KEY_DOWN"),b=Object(l.a)("SNAKE_MOVE"),f=Object(l.a)("LARGE_SNAKE"),k=Object(l.a)("INITIAL_APP_STATE"),p=Object(l.a)("SNAKE_CRASHED"),h=Object(l.a)("GET_FOOD"),v=(n(31),n(32),n(1));var D=function(e){return Object(v.jsx)("div",{children:e.snakeDots.map((function(e,t){var n={left:"".concat(e[0],"%"),top:"".concat(e[1],"%")};return Object(v.jsx)("div",{className:"snake-dot",style:n},t)}))})},E=n(18);n(34);var g={getFoodCoordinates:h},m=Object(O.b)((function(e){return{snakeDirection:e.snakeDirection}}),g)((function(e){var t=e.snakeDirection,n=Object(a.useState)({left:"".concat(t.food[0],"%"),top:"".concat(t.food[1],"%")}),o=Object(E.a)(n,2),c=o[0],r=o[1];return Object(a.useEffect)((function(){var e={left:"".concat(t.food[0],"%"),top:"".concat(t.food[1],"%")};r(e)}),[t.food]),Object(v.jsx)("div",{className:"snake-food",style:c})})),S={speed:150},I=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state=S,e.onKeyDown=function(t){(0,e.props.appKeyDown)(t.keyCode)},e.moveSnake=function(){(0,e.props.snakeMove)()},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.moveInterval=setTimeout((function(){return e.speedInterval()}),this.speedInterval),document.onkeydown=this.onKeyDown}},{key:"speedInterval",value:function(){setInterval(this.moveSnake,this.state.speed)}},{key:"componentDidUpdate",value:function(e,t){(0,this.props.snakeCrashed)(),this.checkIfEat()}},{key:"componentWillUnmount",value:function(){clearInterval(this.moveInterval)}},{key:"checkIfEat",value:function(){var e=this.props,t=e.getFoodCoordinates,n=e.snakeDirection,a=e.largeSnake,o=n.snakeDots[n.snakeDots.length-1],c=n.food;o[0]===c[0]&&o[1]===c[1]&&(t(),a())}},{key:"render",value:function(){var e=this.props.snakeDirection;return Object(v.jsx)("div",{className:"App",children:Object(v.jsxs)("div",{className:"game-field",children:[Object(v.jsx)(D,{snakeDots:e.snakeDots}),Object(v.jsx)(m,{})]})})}}]),n}(o.a.Component),y={appKeyDown:j,snakeMove:b,largeSnake:f,initialAppState:k,getFoodCoordinates:h,snakeCrashed:p},_=Object(O.b)((function(e){return{snakeDirection:e.snakeDirection}}),y)(I),T=n(3),N=n(8),w=n(2),A=function(){return[4*Math.floor((96*Math.random()+1)/4),4*Math.floor((96*Math.random()+1)/4)]},x={direction:"RIGHT",food:A(),snakeDots:[[0,0],[4,0]]},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j.toString():switch(t.payload){case 38:return Object(w.a)(Object(w.a)({},e),{},{direction:"DOWN"!==e.direction?"UP":"DOWN"});case 40:return Object(w.a)(Object(w.a)({},e),{},{direction:"UP"!==e.direction?"DOWN":"UP"});case 37:return Object(w.a)(Object(w.a)({},e),{},{direction:"RIGHT"!==e.direction?"LEFT":"RIGHT"});case 39:return Object(w.a)(Object(w.a)({},e),{},{direction:"LEFT"!==e.direction?"RIGHT":"LEFT"});default:return e}case b.toString():var n=Object(N.a)(e.snakeDots),a=n[n.length-1];switch(e.direction){case"RIGHT":(a=[a[0]+4,a[1]])[0]>96&&(a=[a[0]=0,a[1]]);break;case"LEFT":(a=[a[0]-4,a[1]])[0]<0&&(a=[a[0]=96,a[1]]);break;case"DOWN":(a=[a[0],a[1]+4])[1]>96&&(a=[a[0],a[1]=0]);break;case"UP":(a=[a[0],a[1]-4])[1]<0&&(a=[a[0],a[1]=96]);break;default:return}return n.push(a),n.shift(),Object(w.a)(Object(w.a)({},e),{},{snakeDots:n});case f.toString():var o=Object(N.a)(e.snakeDots);return o.unshift([]),Object(w.a)(Object(w.a)({},e),{},{snakeDots:o});case h.toString():return Object(w.a)(Object(w.a)({},e),{},{food:A()});case p.toString():var c=Object(N.a)(e.snakeDots),r=c[c.length-1],s=e;return c.pop(),c.forEach((function(t){r[0]===t[0]&&r[1]===t[1]&&(alert("\u0418\u0433\u0440\u0430 \u043e\u043a\u043e\u043d\u0447\u0435\u043d\u0430, \u0442\u044b \u043d\u0430\u0431\u0440\u0430\u043b ".concat(e.snakeDots.length-2," \u043e\u0447\u043a\u043e\u0432")),s=x)})),s;default:return e}},R=Object(T.b)({snakeDirection:M}),C=function(){return Object(T.d)(R,Object(T.c)(window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e}))}();r.a.render(Object(v.jsx)(o.a.StrictMode,{children:Object(v.jsx)(O.a,{store:C,children:Object(v.jsx)(_,{})})}),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.cd7ca213.chunk.js.map